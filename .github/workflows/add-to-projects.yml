# This action automatically adds the current issue or pull request to a GitHub project. 
# Note that this is for GitHub projects (beta), not the original GitHub projects.
# https://github.com/marketplace/actions/add-to-github-projects-beta

name: Provision PRs to Projects

on:
  pull_request:
    types: [opened, labeled]

jobs:
  automate-PR-labels:
    runs-on: ubuntu-latest
    steps:
      - name: Initial labeling
        uses: andymckay/labeler@master
        with:
          add-labels: "needs-triage"
      

  add-to-project:
    needs: automate-PR-labels
    runs-on: ubuntu-latest
    steps:
      - name: Add PR to Projects
        uses: actions/add-to-project@main
        with:
          project-url: https://github.com/users/nathanbaleeta/projects/1
          github-token: ${{ secrets.ADD_TO_PROJECTS }}
          labeled: needs-triage
          



          
